import{Q as h,j as e,ap as P,ae as T,e as $,r as u,ah as H,h as g,ad as y,B as r,T as s,l as E,w as L,D as o,aq as v,af as R}from"./index-C2iXY8ra.js";import{S as c,a as C}from"./Stack-Blh1MSla.js";import{S as j,A}from"./Skeleton-D2-GEIGL.js";import{G as i}from"./Grid-C4VPN10G.js";import{C as d}from"./Card-bXk435uA.js";import{C as b}from"./Chip-BvajIGLN.js";import{C as q,G as z,a as G}from"./Groups-D9guAALM.js";const U=h(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),k=h(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Q=h(e.jsx("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4m-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5"}),"Female"),J=h(e.jsx("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11m0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9"}),"Male"),I=h([e.jsx("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),e.jsx("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),K=h(e.jsx("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes");function ne(){const{id:m}=P(),p=T(),l=$(),[N,S]=u.useState(!1),[t,V]=u.useState(null),{listCulte:F}=H(n=>n.culte),W=n=>{if(!n)return"Non spécifié";const a=R.find(f=>f.value.toString()===n);return a?a.label:"Non spécifié"},M=u.useCallback(()=>{if(m)try{S(!0);const n=parseInt(m,10),a=F.find(f=>f.idCulte===n);a?V(a):console.warn("Culte non trouvé dans le store")}catch(n){console.error("Erreur lors du chargement des détails:",n)}finally{S(!1)}},[m,F]);u.useEffect(()=>{M()},[M]);const w=()=>{p("/culte")},O=n=>{if(!n)return"Non spécifié";try{return new Date(n).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Date invalide"}},B=()=>{if(!t)return 0;const n=parseInt(t.nombreHommeCulte,10)||0,a=parseInt(t.nombreFemmeCulte,10)||0;return n+a},D=()=>{if(!t)return 0;const n=parseInt(t.offrandeCulte,10)||0,a=parseInt(t.offrandeEcodim,10)||0;return n+a};return N?e.jsx(g,{children:e.jsx(y,{maxWidth:"lg",children:e.jsxs(c,{spacing:3,children:[e.jsx(j,{variant:"rectangular",height:56}),e.jsx(j,{variant:"rectangular",height:400}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:8,children:e.jsx(j,{variant:"rectangular",height:200})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsx(j,{variant:"rectangular",height:200})})]})]})})}):t?e.jsx(g,{children:e.jsxs(y,{maxWidth:"lg",children:[e.jsx(r,{mb:3,children:e.jsx(E,{startIcon:e.jsx(A,{}),onClick:w,sx:{mb:2},children:"Retour à la liste"})}),e.jsxs(d,{sx:{mb:4,overflow:"hidden",position:"relative",background:`linear-gradient(135deg, ${C(l.palette.primary.main,.1)} 0%, ${C(l.palette.secondary.main,.1)} 100%)`},children:[e.jsx(r,{sx:{height:120,background:`linear-gradient(135deg, ${l.palette.primary.main} 0%, ${l.palette.secondary.main} 100%)`,position:"relative"}}),e.jsx(r,{sx:{pt:4,pb:4,px:4},children:e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:8,children:e.jsxs(c,{spacing:2,children:[e.jsxs(r,{children:[e.jsx(s,{variant:"h3",fontWeight:"bold",children:W(t.typeCulte)}),e.jsx(s,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:t.themePredication||"Sans thème spécifique"})]}),e.jsxs(c,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,children:[e.jsx(b,{icon:e.jsx(q,{}),label:O(t.dateCulte),color:"primary",variant:"outlined"}),e.jsx(b,{icon:e.jsx(z,{}),label:`${B()} participants`,color:"secondary",variant:"outlined"}),e.jsx(b,{icon:e.jsx(k,{}),label:`${D().toLocaleString()} FCFA`,color:"success",variant:"outlined"})]})]})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsxs(L,{sx:{p:3,borderRadius:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Statistiques"}),e.jsxs(c,{spacing:2,children:[e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(J,{color:"primary"}),e.jsx(s,{variant:"body2",children:"Hommes"})]}),e.jsx(s,{fontWeight:"bold",children:t.nombreHommeCulte||0})]}),e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:1,children:[e.jsx(Q,{color:"primary"}),e.jsx(s,{variant:"body2",children:"Femmes"})]}),e.jsx(s,{fontWeight:"bold",children:t.nombreFemmeCulte||0})]}),e.jsx(o,{}),e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(s,{variant:"subtitle1",children:"Total"}),e.jsx(s,{variant:"h6",color:"primary",fontWeight:"bold",children:B()})]})]})]})})]})})]}),e.jsxs(i,{container:!0,spacing:3,children:[e.jsx(i,{item:!0,xs:12,md:8,children:e.jsxs(c,{spacing:3,children:[e.jsxs(d,{sx:{p:3},children:[e.jsxs(s,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(I,{color:"primary"}),"Détails de la prédication"]}),e.jsx(o,{sx:{my:2}}),e.jsxs(i,{container:!0,spacing:2,children:[e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{icon:e.jsx(U,{}),label:"Dirigeant",value:t.dirigeant||"Non spécifié"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{icon:e.jsx(I,{}),label:"Prédicateur",value:t.predication||"Non spécifié"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{icon:e.jsx(I,{}),label:"Passage biblique",value:t.passageBiblique||"Non spécifié"})}),e.jsx(i,{item:!0,xs:12,children:e.jsx(x,{icon:e.jsx(G,{}),label:"Thème de la prédication",value:t.themePredication||"Non spécifié"})})]})]}),t.resumePredication&&e.jsxs(d,{sx:{p:3},children:[e.jsxs(s,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(K,{color:"primary"}),"Résumé de la prédication"]}),e.jsx(o,{sx:{my:2}}),e.jsx(s,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.8,whiteSpace:"pre-wrap"},children:t.resumePredication})]})]})}),e.jsx(i,{item:!0,xs:12,md:4,children:e.jsxs(c,{spacing:3,children:[e.jsxs(d,{sx:{p:3},children:[e.jsxs(s,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(k,{color:"primary"}),"Offrandes et dons"]}),e.jsx(o,{sx:{my:2}}),e.jsxs(c,{spacing:2,children:[e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(s,{variant:"body1",children:"Offrande du culte"}),e.jsx(s,{variant:"body1",fontWeight:"bold",children:t.offrandeCulte?`${t.offrandeCulte} FCFA`:"0 FCFA"})]}),e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(s,{variant:"body1",children:"Offrande ECODIM"}),e.jsx(s,{variant:"body1",fontWeight:"bold",children:t.offrandeEcodim?`${t.offrandeEcodim} FCFA`:"0 FCFA"})]}),e.jsx(o,{}),e.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[e.jsx(s,{variant:"h6",children:"Total"}),e.jsxs(s,{variant:"h6",color:"primary",fontWeight:"bold",children:[D().toLocaleString()," FCFA"]})]})]})]}),(t.ecodim||t.filleEcodim)&&e.jsxs(d,{sx:{p:3,bgcolor:C(l.palette.info.main,.1)},children:[e.jsxs(s,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(v,{color:"primary"}),"Informations ECODIM"]}),e.jsx(o,{sx:{my:2}}),e.jsxs(c,{spacing:2,children:[t.ecodim&&e.jsx(x,{icon:e.jsx(v,{}),label:"ECODIM",value:t.ecodim}),t.filleEcodim&&e.jsx(x,{icon:e.jsx(v,{}),label:"Fille ECODIM",value:t.filleEcodim})]})]}),e.jsxs(d,{sx:{p:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Informations complémentaires"}),e.jsx(o,{sx:{my:1}}),e.jsxs(c,{spacing:1,children:[e.jsxs(s,{variant:"body2",color:"text.secondary",children:["ID: ",t.idCulte]}),e.jsxs(s,{variant:"body2",color:"text.secondary",children:["Créé par: Utilisateur #",t.idUtilisateur]})]})]})]})})]})]})}):e.jsx(g,{children:e.jsx(y,{maxWidth:"lg",children:e.jsxs(r,{textAlign:"center",py:10,children:[e.jsx(s,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Culte non trouvé"}),e.jsx(E,{variant:"contained",startIcon:e.jsx(A,{}),onClick:w,children:"Retour à la liste"})]})})})}const x=({icon:m,label:p,value:l})=>e.jsxs(r,{children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[m,e.jsx(s,{variant:"subtitle2",color:"text.secondary",children:p})]}),e.jsx(s,{variant:"body1",children:l||"Non spécifié"})]});export{ne as CulteDetailView,ne as default};
