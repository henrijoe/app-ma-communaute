import{Q as o,j as e,ap as U,ae as G,e as F,r as g,ah as J,h as C,ad as D,B as r,T as n,l as h,A as O,aL as I,D as p}from"./index-C2iXY8ra.js";import{b as Q,c as K}from"./utils-y1iOOS8T.js";import{S as a,a as v}from"./Stack-Blh1MSla.js";import{S as f,A as z}from"./Skeleton-D2-GEIGL.js";import{G as s}from"./Grid-C4VPN10G.js";import{C as x}from"./Card-bXk435uA.js";import{E as T}from"./Edit-qknhX8SQ.js";import{C as j}from"./Chip-BvajIGLN.js";const X=o(e.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),S=o(e.jsx("path",{d:"M18 11v2h4v-2zm-2 6.61c.96.71 2.21 1.65 3.2 2.39.4-.53.8-1.07 1.2-1.6-.99-.74-2.24-1.68-3.2-2.4-.4.54-.8 1.08-1.2 1.61M20.4 5.6c-.4-.53-.8-1.07-1.2-1.6-.99.74-2.24 1.68-3.2 2.4.4.53.8 1.07 1.2 1.6.96-.72 2.21-1.65 3.2-2.4M4 9c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v4h2v-4h1l5 3V6L8 9zm11.5 3c0-1.33-.58-2.53-1.5-3.35v6.69c.92-.81 1.5-2.01 1.5-3.34"}),"Campaign"),Y=o(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),w=o(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Z=o(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),E=o(e.jsx("path",{d:"M4 9h16v2H4zm0 4h10v2H4z"}),"ShortText"),_=o(e.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"}),"Tag"),ee=o(e.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");function ce(){var W,L,A;const{id:d}=U(),u=G(),i=F(),[R,H]=g.useState(!1),[t,$]=g.useState(null),B=J(m=>m.departement.listDepartement),k=g.useCallback(()=>{if(d)try{H(!0);const m=parseInt(d,10),N=B.find(q=>q.idDepartement===m);N?$(N):console.warn("Département non trouvé dans le store")}catch(m){console.error("Erreur lors du chargement des détails:",m)}finally{H(!1)}},[d,B]);g.useEffect(()=>{k()},[k]);const V=()=>{t&&u(`/detaildepartements/edit/${d}`)},b=()=>{u("/departement")},l=t?Q(t):0,M=()=>l>=100?"success":l>=75?"info":l>=50?"warning":"error",P=()=>l>=100?e.jsx(Y,{color:"success"}):l>=50?e.jsx(Z,{color:"info"}):e.jsx(ee,{color:"warning"}),y=t?K(t):"";return R?e.jsx(C,{children:e.jsx(D,{maxWidth:"lg",children:e.jsxs(a,{spacing:3,children:[e.jsx(f,{variant:"rectangular",height:56}),e.jsx(f,{variant:"rectangular",height:300}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,md:8,children:e.jsx(f,{variant:"rectangular",height:200})}),e.jsx(s,{item:!0,xs:12,md:4,children:e.jsx(f,{variant:"rectangular",height:200})})]})]})})}):t?e.jsx(C,{children:e.jsxs(D,{maxWidth:"lg",children:[e.jsx(r,{mb:3,children:e.jsx(h,{startIcon:e.jsx(z,{}),onClick:b,sx:{mb:2},children:"Retour à la liste"})}),e.jsxs(x,{sx:{mb:4,overflow:"hidden",position:"relative",background:`linear-gradient(135deg, ${v(i.palette.primary.main,.1)} 0%, ${v(i.palette.secondary.main,.1)} 100%)`},children:[e.jsx(r,{sx:{height:100,background:`linear-gradient(135deg, ${i.palette.primary.main} 0%, ${i.palette.info.main} 100%)`,position:"relative"}}),e.jsx(r,{sx:{position:"relative",mx:4,mt:-6,mb:2},children:e.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[e.jsx(O,{sx:{width:80,height:80,bgcolor:i.palette.primary.main,fontSize:32,border:"4px solid white",boxShadow:i.shadows[4]},children:((W=t.libelleCourtDepartement)==null?void 0:W.charAt(0).toUpperCase())||"D"}),e.jsx(h,{variant:"contained",startIcon:e.jsx(T,{}),onClick:V,sx:{borderRadius:2,boxShadow:i.shadows[4],mt:2},children:"Modifier"})]})}),e.jsx(r,{sx:{pt:2,pb:4,px:4},children:e.jsx(s,{container:!0,spacing:3,children:e.jsx(s,{item:!0,xs:12,md:8,children:e.jsxs(a,{spacing:2,children:[e.jsxs(r,{children:[e.jsx(n,{variant:"h3",fontWeight:"bold",gutterBottom:!0,children:t.libelleLongDepartement}),e.jsxs(n,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:[t.libelleCourtDepartement&&e.jsx(j,{label:t.libelleCourtDepartement,color:"primary",size:"small",sx:{mr:1}}),y&&e.jsx(j,{label:y,variant:"outlined",size:"small"})]})]}),e.jsxs(a,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,children:[t.sloganDepartement&&e.jsx(j,{icon:e.jsx(S,{}),label:t.sloganDepartement,color:"secondary",variant:"outlined"}),e.jsx(j,{icon:P(),label:`${l}% complet`,color:M(),variant:"outlined"}),t.responsableDepartement&&e.jsx(j,{icon:e.jsx(I,{}),label:`Responsable: ${t.responsableDepartement}`,color:"info",variant:"outlined"})]})]})})})})]}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,md:8,children:e.jsxs(a,{spacing:3,children:[e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(w,{color:"primary"}),"Informations détaillées"]}),e.jsx(p,{sx:{my:2}}),e.jsxs(s,{container:!0,spacing:3,children:[e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(c,{icon:e.jsx(w,{}),label:"Libellé complet",value:t.libelleLongDepartement})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(c,{icon:e.jsx(E,{}),label:"Libellé court",value:t.libelleCourtDepartement})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(c,{icon:e.jsx(S,{}),label:"Slogan",value:t.sloganDepartement||"Non défini"})}),e.jsx(s,{item:!0,xs:12,md:6,children:e.jsx(c,{icon:e.jsx(I,{}),label:"Responsable",value:t.responsableDepartement||"Non défini"})})]})]}),t.sloganDepartement&&e.jsxs(x,{sx:{p:3,bgcolor:v(i.palette.info.main,.05)},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(S,{color:"primary"}),"Slogan et vision"]}),e.jsx(p,{sx:{my:2}}),e.jsxs(n,{variant:"body1",color:"text.secondary",sx:{lineHeight:1.8,fontStyle:"italic",textAlign:"center",py:2},children:['"',t.sloganDepartement,'"']})]})]})}),e.jsx(s,{item:!0,xs:12,md:4,children:e.jsxs(a,{spacing:3,children:[e.jsxs(x,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(X,{color:"primary"}),"Informations système"]}),e.jsx(p,{sx:{my:2}}),e.jsxs(a,{spacing:2,children:[e.jsx(c,{icon:e.jsx(_,{}),label:"ID Département",value:((L=t.idDepartement)==null?void 0:L.toString())||"Non défini"}),e.jsx(c,{icon:e.jsx(I,{}),label:"ID Utilisateur",value:((A=t.idUtilisateur)==null?void 0:A.toString())||"Non défini"}),e.jsx(c,{icon:e.jsx(E,{}),label:"Code unique",value:y||"Non généré"})]})]}),e.jsxs(x,{sx:{p:3},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Actions rapides"}),e.jsx(p,{sx:{my:2}}),e.jsxs(a,{spacing:1,children:[e.jsx(h,{variant:"outlined",startIcon:e.jsx(T,{}),onClick:V,fullWidth:!0,children:"Modifier le département"}),e.jsx(h,{variant:"outlined",startIcon:e.jsx(w,{}),onClick:()=>navigator.clipboard.writeText(JSON.stringify(t,null,2)),fullWidth:!0,children:"Copier les informations"}),e.jsx(h,{variant:"outlined",startIcon:e.jsx(z,{}),onClick:b,fullWidth:!0,children:"Retour à la liste"})]})]}),e.jsxs(x,{sx:{p:3,bgcolor:v(i.palette.success.main,.05)},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Statistiques"}),e.jsx(p,{sx:{my:1}}),e.jsxs(a,{spacing:1,children:[e.jsxs(r,{display:"flex",justifyContent:"space-between",children:[e.jsx(n,{variant:"body2",children:"Champs requis"}),e.jsx(n,{variant:"body2",fontWeight:"bold",children:"2/2 ✓"})]}),e.jsxs(r,{display:"flex",justifyContent:"space-between",children:[e.jsx(n,{variant:"body2",children:"Champs optionnels"}),e.jsxs(n,{variant:"body2",fontWeight:"bold",children:[[t.sloganDepartement,t.responsableDepartement].filter(Boolean).length,"/2"]})]}),e.jsxs(r,{display:"flex",justifyContent:"space-between",children:[e.jsx(n,{variant:"body2",children:"Complétion"}),e.jsxs(n,{variant:"body2",fontWeight:"bold",color:M(),children:[l,"%"]})]})]})]})]})})]})]})}):e.jsx(C,{children:e.jsx(D,{maxWidth:"lg",children:e.jsxs(r,{textAlign:"center",py:10,children:[e.jsx(n,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Département non trouvé"}),e.jsx(h,{variant:"contained",startIcon:e.jsx(z,{}),onClick:b,children:"Retour à la liste"})]})})})}const c=({icon:d,label:u,value:i})=>e.jsxs(r,{children:[e.jsxs(r,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[d,e.jsx(n,{variant:"subtitle2",color:"text.secondary",children:u})]}),e.jsx(n,{variant:"body1",children:i||"Non spécifié"})]});export{ce as DepartementDetailView,ce as default};
