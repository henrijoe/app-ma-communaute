import{bg as a}from"./index-C2iXY8ra.js";const u="http://localhost:49300/",i=()=>{const e=a();return e?e.endsWith("/")?e:`${e}/`:window.location.hostname==="localhost"?u:"https://votre-backend-production.com/"},d=(e,r)=>{const o=e.endsWith("/")?e.slice(0,-1):e,n=r.startsWith("/")?r:`/${r}`;return`${o}${n}`};async function t(e,r,o){const n=i(),s=d(n,e);try{const m=await fetch(s,{...r,headers:{Accept:"application/json","Content-Type":"application/json",...r==null?void 0:r.headers}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);return await m.json()}catch(m){throw console.error(`Request failed for ${s}:`,m),m}}const l={getMembres:()=>t("communaute/listemembre",{method:"GET"}),createMembre:e=>t("communaute/inserermembre",{method:"POST",body:JSON.stringify(e)}),updateMembre:e=>t("communaute/modifiermembre",{method:"POST",body:JSON.stringify(e)}),deleteMembre:e=>t("communaute/supprimermembre",{method:"POST",body:JSON.stringify({idMembre:e})}),getCultes:()=>t("communaute/listeculte",{method:"GET"}),createCulte:e=>t("communaute/insererculte",{method:"POST",body:JSON.stringify(e)}),updateCulte:e=>t("communaute/modifierculte",{method:"POST",body:JSON.stringify(e)}),deleteCulte:e=>t("communaute/supprimerculte",{method:"POST",body:JSON.stringify({idCulte:e})}),getDepartements:()=>t("communaute/listedepartement",{method:"GET"}),createDepartement:e=>t("communaute/insererdepartement",{method:"POST",body:JSON.stringify(e)}),updateDepartement:e=>t("communaute/modifierdepartement",{method:"POST",body:JSON.stringify(e)}),deleteDepartement:e=>t("communaute/supprimerdepartement",{method:"POST",body:JSON.stringify({idDepartement:e})}),getCulteByUtilisateur:e=>t(`communaute/recupcultebyutilisateur/${e}`,{method:"GET"}),testConnection:()=>t("test",{method:"GET"}),get:(e,r)=>t(e,{method:"GET",...r}),post:(e,r,o)=>t(e,{method:"POST",body:JSON.stringify(r),...o}),put:(e,r,o)=>t(e,{method:"PUT",body:JSON.stringify(r),...o}),delete:(e,r)=>t(e,{method:"DELETE",...r})};export{u as B,l as a};
