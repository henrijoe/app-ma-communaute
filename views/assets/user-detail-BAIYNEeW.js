import{Q as o,j as e,ap as K,ae as Q,e as X,r as g,ah as Y,h as C,ad as L,B as c,T as n,l as k,A as Z,aL as p,w as ee,D as j,aq as A,aD as se,aI as ae,aJ as ie,aK as te,av as re}from"./index-C2iXY8ra.js";import{B as ne}from"./apiClient-CqGJZrRH.js";import{S as m,a as I}from"./Stack-Blh1MSla.js";import{S as v,A as R}from"./Skeleton-D2-GEIGL.js";import{G as t}from"./Grid-C4VPN10G.js";import{C as d}from"./Card-bXk435uA.js";import{C as f}from"./Chip-BvajIGLN.js";import{C as b,G as S,a as le}from"./Groups-D9guAALM.js";const N=o(e.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),ce=o(e.jsx("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"}),"Cake"),oe=o(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),xe=o(e.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2m4 18v-6h2.5l-2.54-7.63C19.68 7.55 18.92 7 18.06 7h-.12c-.86 0-1.63.55-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5M5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4z"}),"FamilyRestroom"),me=o(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),W=o(e.jsx("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),M=o(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),de=o(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),ue=o(e.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),G=o(e.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"}),"WaterDrop"),E=o(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work");function Ce(){const{id:h}=K(),y=Q(),x=X(),[P,B]=g.useState(!1),[s,H]=g.useState(null),{listMembre:D}=Y(a=>a.membre),$=a=>{if(!a)return"Non spécifié";const r=se.find(l=>l.value===a);return r?r.label:"Non spécifié"},O=a=>{if(!a)return"Non spécifié";const r=ae.find(l=>l.value===a);return r?r.label:"Non spécifié"},T=a=>{if(!a)return"Non spécifié";const r=ie.find(l=>l.value===a);return r?r.label:"Non spécifié"},U=a=>{if(!a)return"Non spécifié";const r=te.find(l=>l.value===a);return r?r.label:"Non spécifié"},q=a=>{if(!a)return"Non spécifié";const r=re.find(l=>l.value===a);return r?r.label:"Non spécifié"},_=a=>({1:"Célibataire",2:"Célibataire sans enfant",3:"Fiancé(e)",4:"Concubinage",5:"Marié(e)",6:"Divorcé(e)",7:"Veuve",8:"Veuf",9:"Copain/Copine",10:"Polygame"})[a]||"Non spécifié",V=a=>a==="1"?"Oui":a==="2"?"Non":"Non spécifié",J=a=>({1:"Monsieur",2:"Madame",3:"Mademoiselle"})[a]||"Non spécifié",w=g.useCallback(()=>{if(h)try{B(!0);const a=parseInt(h,10),r=D.find(l=>l.idMembre===a);r?H(r):console.warn("Membre non trouvé dans le store")}catch(a){console.error("Erreur lors du chargement des détails:",a)}finally{B(!1)}},[h,D]);g.useEffect(()=>{w()},[w]);const z=()=>{y("/user")},F=s?(a=>!a||a===""?null:a.startsWith("data:image/")||a.startsWith("http")?a:`${ne}/photos/${a}`)(s.photoMembre):null,u=a=>{if(!a)return"Non spécifié";try{return new Date(a).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch{return"Date invalide"}};return P?e.jsx(C,{children:e.jsx(L,{maxWidth:"lg",children:e.jsxs(m,{spacing:3,children:[e.jsx(v,{variant:"rectangular",height:56}),e.jsx(v,{variant:"rectangular",height:400}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:8,children:e.jsx(v,{variant:"rectangular",height:200})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsx(v,{variant:"rectangular",height:200})})]})]})})}):s?e.jsx(C,{children:e.jsxs(L,{maxWidth:"lg",children:[e.jsx(c,{mb:3,children:e.jsx(k,{startIcon:e.jsx(R,{}),onClick:z,sx:{mb:2},children:"Retour à la liste"})}),e.jsxs(d,{sx:{mb:4,overflow:"hidden",position:"relative",background:`linear-gradient(135deg, ${I(x.palette.primary.main,.1)} 0%, ${I(x.palette.secondary.main,.1)} 100%)`},children:[e.jsx(c,{sx:{height:200,background:`linear-gradient(135deg, ${x.palette.primary.main} 0%, ${x.palette.secondary.main} 100%)`,position:"relative"},children:e.jsx(c,{sx:{position:"absolute",bottom:-80,left:40},children:e.jsx(Z,{src:F||void 0,sx:{width:160,height:160,border:"6px solid white",boxShadow:x.shadows[8],bgcolor:x.palette.primary.light},children:!F&&e.jsx(p,{sx:{fontSize:80,color:"white"}})})})}),e.jsx(c,{sx:{pt:10,pb:4,px:4},children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:8,children:e.jsxs(m,{spacing:2,children:[e.jsxs(c,{children:[e.jsxs(n,{variant:"h3",fontWeight:"bold",children:[s.nomMembre," ",s.prenomMembre]}),e.jsx(n,{variant:"subtitle1",color:"text.secondary",children:J(s.civiliteMembre)})]}),e.jsxs(m,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,children:[s.idResponsabilite&&e.jsx(f,{icon:e.jsx(N,{}),label:q(s.idResponsabilite),color:"primary",variant:"outlined"}),s.fonctionMembre&&e.jsx(f,{icon:e.jsx(E,{}),label:s.fonctionMembre,color:"secondary",variant:"outlined"}),s.baptemeEauMembre==="1"&&e.jsx(f,{icon:e.jsx(G,{}),label:"Baptisé(e) d'eau",color:"success",variant:"outlined"}),s.baptemeSaintEspritMembre==="1"&&e.jsx(f,{icon:e.jsx(N,{}),label:"Baptisé(e) du Saint-Esprit",color:"warning",variant:"outlined"})]})]})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsxs(ee,{sx:{p:3,borderRadius:2},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Contact"}),e.jsxs(m,{spacing:2,children:[s.contactMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(de,{color:"primary"}),e.jsx(n,{children:s.contactMembre})]}),s.emailMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(oe,{color:"primary"}),e.jsx(n,{children:s.emailMembre})]}),s.residenceMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(M,{color:"primary"}),e.jsx(n,{children:s.residenceMembre})]})]})]})})]})})]}),e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,md:8,children:e.jsxs(m,{spacing:3,children:[e.jsxs(d,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(p,{color:"primary"}),"Informations personnelles"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(ce,{}),label:"Date de naissance",value:u(s.dateNaissMembre)})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(M,{}),label:"Lieu de naissance",value:s.lieuNaissMembre})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(W,{}),label:"Nationalité",value:s.nationaliteMembre})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(W,{}),label:"Ethnie",value:s.ethnieMembre})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(i,{icon:e.jsx(ue,{}),label:"Niveau d'étude",value:$(s.idNiveauEtude)})})]})]}),e.jsxs(d,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(xe,{color:"primary"}),"Situation familiale"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(me,{}),label:"Situation matrimoniale",value:_(s.situationMatrimonialeMembre)})}),s.situationMatrimonialeMembre==="3"&&s.nomFiance&&e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(p,{}),label:"Nom du fiancé(e)",value:s.nomFiance})}),s.situationMatrimonialeMembre==="5"&&s.dateMariageMembre&&e.jsx(t,{item:!0,xs:12,children:e.jsx(i,{icon:e.jsx(b,{}),label:"Date de mariage",value:u(s.dateMariageMembre)})})]})]}),e.jsxs(d,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(E,{color:"primary"}),"Vie professionnelle"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(E,{}),label:"Fonction",value:s.fonctionMembre})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(i,{icon:e.jsx(M,{}),label:"Lieu de travail",value:s.lieuTravailMembre})})]})]})]})}),e.jsx(t,{item:!0,xs:12,md:4,children:e.jsxs(m,{spacing:3,children:[e.jsxs(d,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(A,{color:"primary"}),"Vie spirituelle"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(m,{spacing:2,children:[e.jsx(i,{icon:e.jsx(A,{}),label:"Église d'origine",value:s.egliseOrigineMembre}),e.jsx(i,{icon:e.jsx(b,{}),label:"Date de conversion",value:u(s.dateConversionMembre)}),e.jsx(i,{icon:e.jsx(G,{}),label:"Baptême d'eau",value:V(s.baptemeEauMembre)}),s.baptemeEauMembre==="1"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{icon:e.jsx(b,{}),label:"Date du baptême d'eau",value:u(s.dateBaptemeMembre)}),e.jsx(i,{icon:e.jsx(M,{}),label:"Lieu du baptême",value:s.lieuBaptemeEauMembre})]}),e.jsx(i,{icon:e.jsx(N,{}),label:"Baptême du Saint-Esprit",value:V(s.baptemeSaintEspritMembre)}),s.baptemeSaintEspritMembre==="1"&&e.jsx(i,{icon:e.jsx(b,{}),label:"Date du baptême du Saint-Esprit",value:u(s.dateBaptemeSaintEspritMembre)})]})]}),e.jsxs(d,{sx:{p:3},children:[e.jsxs(n,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(S,{color:"primary"}),"Engagement dans l'église"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(m,{spacing:2,children:[e.jsx(i,{icon:e.jsx(le,{}),label:"Département/Comité",value:O(s.idDepartement)}),e.jsx(i,{icon:e.jsx(S,{}),label:"Cellule",value:T(s.idCellule)}),e.jsx(i,{icon:e.jsx(S,{}),label:"Groupe ethnique",value:U(s.idGroupe)}),s.nouvelleAmeMembre==="1"&&e.jsxs(e.Fragment,{children:[e.jsx(i,{icon:e.jsx(p,{}),label:"Nouvelle âme",value:"Oui"}),e.jsx(i,{icon:e.jsx(p,{}),label:"Connaissance à l'église",value:s.nomAmiEglise}),e.jsx(i,{icon:e.jsx(b,{}),label:"Date de décision",value:u(s.dateDecisionMembre)})]})]})]}),s.capaciteSpirituelleMembre&&e.jsxs(d,{sx:{p:3,bgcolor:I(x.palette.info.main,.1)},children:[e.jsx(n,{variant:"h6",gutterBottom:!0,children:"Capacité spirituelle"}),e.jsxs(n,{variant:"body1",color:"text.secondary",children:[s.capaciteSpirituelleMembre==="1"&&"Bonne",s.capaciteSpirituelleMembre==="2"&&"Moyenne",s.capaciteSpirituelleMembre==="3"&&"Nouvellement convertie"]})]})]})})]})]})}):e.jsx(C,{children:e.jsx(L,{maxWidth:"lg",children:e.jsxs(c,{textAlign:"center",py:10,children:[e.jsx(n,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Membre non trouvé"}),e.jsx(k,{variant:"contained",startIcon:e.jsx(R,{}),onClick:z,children:"Retour à la liste"})]})})})}const i=({icon:h,label:y,value:x})=>e.jsxs(c,{children:[e.jsxs(c,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[h,e.jsx(n,{variant:"subtitle2",color:"text.secondary",children:y})]}),e.jsx(n,{variant:"body1",children:x||"Non spécifié"})]});export{Ce as MembreDetailView,Ce as default};
