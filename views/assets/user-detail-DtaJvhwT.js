import{V as l,j as e,aY as J,a3 as K,e as Q,r as g,a6 as Z,h as C,aX as L,B as c,T as r,k as I,A as ee,E as se,D as j,ao as ie,at as te,au as ae,av as ne,af as re}from"./index-DUnKBMV4.js";import{G as a,B as le}from"./apiClient-Co9MpGf1.js";import{S as d,a as V}from"./Stack-CyUayZpl.js";import{S as f,A as H,P as p,E as ce}from"./Person-TZJLdCLE.js";import{C as m}from"./Card-CnyGZz_g.js";import{C as M}from"./Chip-CAWuUU2_.js";const S=l(e.jsx("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome"),oe=l(e.jsx("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"}),"Cake"),b=l(e.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),xe=l([e.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),e.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),e.jsx("path",{d:"M3 13.5h8v8H3z"},"2")],"Category"),A=l(e.jsx("path",{d:"M18 12.22V9l-5-2.5V5h2V3h-2V1h-2v2H9v2h2v1.5L6 9v3.22L2 14v8h8v-3c0-1.1.9-2 2-2s2 .9 2 2v3h8v-8zm-6 1.28c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"Church"),de=l(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),me=l(e.jsx("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2m4 18v-6h2.5l-2.54-7.63C19.68 7.55 18.92 7 18.06 7h-.12c-.86 0-1.63.55-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5M5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4z"}),"FamilyRestroom"),ue=l(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),R=l(e.jsx("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),E=l(e.jsx("path",{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58C.48 14.9 0 15.62 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85-.85-.37-1.79-.58-2.78-.58-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3"}),"Groups"),y=l(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),he=l(e.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),je=l(e.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),W=l(e.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"}),"WaterDrop"),N=l(e.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work");function Ce(){const{id:u}=J(),v=K(),x=Q(),[P,B]=g.useState(!1),[s,G]=g.useState(null),{listMembre:D}=Z(i=>i.membre),$=i=>{if(!i)return"Non spécifié";const n=ie.find(o=>o.value===i);return n?n.label:"Non spécifié"},T=i=>{if(!i)return"Non spécifié";const n=te.find(o=>o.value===i);return n?n.label:"Non spécifié"},O=i=>{if(!i)return"Non spécifié";const n=ae.find(o=>o.value===i);return n?n.label:"Non spécifié"},U=i=>{if(!i)return"Non spécifié";const n=ne.find(o=>o.value===i);return n?n.label:"Non spécifié"},_=i=>{if(!i)return"Non spécifié";const n=re.find(o=>o.value===i);return n?n.label:"Non spécifié"},q=i=>({1:"Célibataire",2:"Célibataire sans enfant",3:"Fiancé(e)",4:"Concubinage",5:"Marié(e)",6:"Divorcé(e)",7:"Veuve",8:"Veuf",9:"Copain/Copine",10:"Polygame"})[i]||"Non spécifié",z=i=>i==="1"?"Oui":i==="2"?"Non":"Non spécifié",X=i=>({1:"Monsieur",2:"Madame",3:"Mademoiselle"})[i]||"Non spécifié",w=g.useCallback(()=>{if(u)try{B(!0);const i=parseInt(u,10),n=D.find(o=>o.idMembre===i);n?G(n):console.warn("Membre non trouvé dans le store")}catch(i){console.error("Erreur lors du chargement des détails:",i)}finally{B(!1)}},[u,D]);g.useEffect(()=>{w()},[w]);const Y=()=>{s&&v(`/details/edit/${u}`)},k=()=>{v("/user")},F=s?(i=>!i||i===""?null:i.startsWith("data:image/")||i.startsWith("http")?i:`${le}/photos/${i}`)(s.photoMembre):null,h=i=>{if(!i)return"Non spécifié";try{return new Date(i).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}catch{return"Date invalide"}};return P?e.jsx(C,{children:e.jsx(L,{maxWidth:"lg",children:e.jsxs(d,{spacing:3,children:[e.jsx(f,{variant:"rectangular",height:56}),e.jsx(f,{variant:"rectangular",height:400}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:8,children:e.jsx(f,{variant:"rectangular",height:200})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(f,{variant:"rectangular",height:200})})]})]})})}):s?e.jsx(C,{children:e.jsxs(L,{maxWidth:"lg",children:[e.jsx(c,{mb:3,children:e.jsx(I,{startIcon:e.jsx(H,{}),onClick:k,sx:{mb:2},children:"Retour à la liste"})}),e.jsxs(m,{sx:{mb:4,overflow:"hidden",position:"relative",background:`linear-gradient(135deg, ${V(x.palette.primary.main,.1)} 0%, ${V(x.palette.secondary.main,.1)} 100%)`},children:[e.jsxs(c,{sx:{height:200,background:`linear-gradient(135deg, ${x.palette.primary.main} 0%, ${x.palette.secondary.main} 100%)`,position:"relative"},children:[e.jsx(c,{sx:{position:"absolute",bottom:-80,left:40},children:e.jsx(ee,{src:F||void 0,sx:{width:160,height:160,border:"6px solid white",boxShadow:x.shadows[8],bgcolor:x.palette.primary.light},children:!F&&e.jsx(p,{sx:{fontSize:80,color:"white"}})})}),e.jsx(c,{sx:{position:"absolute",top:20,right:20},children:e.jsx(I,{variant:"contained",startIcon:e.jsx(ce,{}),onClick:Y,sx:{borderRadius:2,boxShadow:x.shadows[4]},children:"Modifier le profil"})})]}),e.jsx(c,{sx:{pt:10,pb:4,px:4},children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:8,children:e.jsxs(d,{spacing:2,children:[e.jsxs(c,{children:[e.jsxs(r,{variant:"h3",fontWeight:"bold",children:[s.nomMembre," ",s.prenomMembre]}),e.jsx(r,{variant:"subtitle1",color:"text.secondary",children:X(s.civiliteMembre)})]}),e.jsxs(d,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,children:[s.idResponsabilite&&e.jsx(M,{icon:e.jsx(S,{}),label:_(s.idResponsabilite),color:"primary",variant:"outlined"}),s.fonctionMembre&&e.jsx(M,{icon:e.jsx(N,{}),label:s.fonctionMembre,color:"secondary",variant:"outlined"}),s.baptemeEauMembre==="1"&&e.jsx(M,{icon:e.jsx(W,{}),label:"Baptisé(e) d'eau",color:"success",variant:"outlined"}),s.baptemeSaintEspritMembre==="1"&&e.jsx(M,{icon:e.jsx(S,{}),label:"Baptisé(e) du Saint-Esprit",color:"warning",variant:"outlined"})]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(se,{sx:{p:3,borderRadius:2},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Contact"}),e.jsxs(d,{spacing:2,children:[s.contactMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(he,{color:"primary"}),e.jsx(r,{children:s.contactMembre})]}),s.emailMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(de,{color:"primary"}),e.jsx(r,{children:s.emailMembre})]}),s.residenceMembre&&e.jsxs(c,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(y,{color:"primary"}),e.jsx(r,{children:s.residenceMembre})]})]})]})})]})})]}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:8,children:e.jsxs(d,{spacing:3,children:[e.jsxs(m,{sx:{p:3},children:[e.jsxs(r,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(p,{color:"primary"}),"Informations personnelles"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(oe,{}),label:"Date de naissance",value:h(s.dateNaissMembre)})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(y,{}),label:"Lieu de naissance",value:s.lieuNaissMembre})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(R,{}),label:"Nationalité",value:s.nationaliteMembre})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(R,{}),label:"Ethnie",value:s.ethnieMembre})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(t,{icon:e.jsx(je,{}),label:"Niveau d'étude",value:$(s.idNiveauEtude)})})]})]}),e.jsxs(m,{sx:{p:3},children:[e.jsxs(r,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(me,{color:"primary"}),"Situation familiale"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(ue,{}),label:"Situation matrimoniale",value:q(s.situationMatrimonialeMembre)})}),s.situationMatrimonialeMembre==="3"&&s.nomFiance&&e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(p,{}),label:"Nom du fiancé(e)",value:s.nomFiance})}),s.situationMatrimonialeMembre==="5"&&s.dateMariageMembre&&e.jsx(a,{item:!0,xs:12,children:e.jsx(t,{icon:e.jsx(b,{}),label:"Date de mariage",value:h(s.dateMariageMembre)})})]})]}),e.jsxs(m,{sx:{p:3},children:[e.jsxs(r,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(N,{color:"primary"}),"Vie professionnelle"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(N,{}),label:"Fonction",value:s.fonctionMembre})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(t,{icon:e.jsx(y,{}),label:"Lieu de travail",value:s.lieuTravailMembre})})]})]})]})}),e.jsx(a,{item:!0,xs:12,md:4,children:e.jsxs(d,{spacing:3,children:[e.jsxs(m,{sx:{p:3},children:[e.jsxs(r,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(A,{color:"primary"}),"Vie spirituelle"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(d,{spacing:2,children:[e.jsx(t,{icon:e.jsx(A,{}),label:"Église d'origine",value:s.egliseOrigineMembre}),e.jsx(t,{icon:e.jsx(b,{}),label:"Date de conversion",value:h(s.dateConversionMembre)}),e.jsx(t,{icon:e.jsx(W,{}),label:"Baptême d'eau",value:z(s.baptemeEauMembre)}),s.baptemeEauMembre==="1"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{icon:e.jsx(b,{}),label:"Date du baptême d'eau",value:h(s.dateBaptemeMembre)}),e.jsx(t,{icon:e.jsx(y,{}),label:"Lieu du baptême",value:s.lieuBaptemeEauMembre})]}),e.jsx(t,{icon:e.jsx(S,{}),label:"Baptême du Saint-Esprit",value:z(s.baptemeSaintEspritMembre)}),s.baptemeSaintEspritMembre==="1"&&e.jsx(t,{icon:e.jsx(b,{}),label:"Date du baptême du Saint-Esprit",value:h(s.dateBaptemeSaintEspritMembre)})]})]}),e.jsxs(m,{sx:{p:3},children:[e.jsxs(r,{variant:"h5",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(E,{color:"primary"}),"Engagement dans l'église"]}),e.jsx(j,{sx:{my:2}}),e.jsxs(d,{spacing:2,children:[e.jsx(t,{icon:e.jsx(xe,{}),label:"Département/Comité",value:T(s.idDepartement)}),e.jsx(t,{icon:e.jsx(E,{}),label:"Cellule",value:O(s.idCellule)}),e.jsx(t,{icon:e.jsx(E,{}),label:"Groupe ethnique",value:U(s.idGroupe)}),s.nouvelleAmeMembre==="1"&&e.jsxs(e.Fragment,{children:[e.jsx(t,{icon:e.jsx(p,{}),label:"Nouvelle âme",value:"Oui"}),e.jsx(t,{icon:e.jsx(p,{}),label:"Connaissance à l'église",value:s.nomAmiEglise}),e.jsx(t,{icon:e.jsx(b,{}),label:"Date de décision",value:h(s.dateDecisionMembre)})]})]})]}),s.capaciteSpirituelleMembre&&e.jsxs(m,{sx:{p:3,bgcolor:V(x.palette.info.main,.1)},children:[e.jsx(r,{variant:"h6",gutterBottom:!0,children:"Capacité spirituelle"}),e.jsxs(r,{variant:"body1",color:"text.secondary",children:[s.capaciteSpirituelleMembre==="1"&&"Bonne",s.capaciteSpirituelleMembre==="2"&&"Moyenne",s.capaciteSpirituelleMembre==="3"&&"Nouvellement convertie"]})]})]})})]})]})}):e.jsx(C,{children:e.jsx(L,{maxWidth:"lg",children:e.jsxs(c,{textAlign:"center",py:10,children:[e.jsx(r,{variant:"h5",color:"text.secondary",gutterBottom:!0,children:"Membre non trouvé"}),e.jsx(I,{variant:"contained",startIcon:e.jsx(H,{}),onClick:k,children:"Retour à la liste"})]})})})}const t=({icon:u,label:v,value:x})=>e.jsxs(c,{children:[e.jsxs(c,{display:"flex",alignItems:"center",gap:1,mb:.5,children:[u,e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:v})]}),e.jsx(r,{variant:"body1",children:x||"Non spécifié"})]});export{Ce as MembreDetailView,Ce as default};
